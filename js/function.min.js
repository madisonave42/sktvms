var HEADER_HEIGHT=160,DASHBOARD_MIN_HEIGHT=756,ResizeDiv=function(a,b,c){var d=$(window).outerHeight()-HEADER_HEIGHT,e=b.height(),f=$(window).outerHeight()-HEADER_HEIGHT,g=$(window).outerHeight()-HEADER_HEIGHT,h=0,i=100,j=d-(i+44);b.css({height:d/2-23}),c.css({height:d/2-23});var k=function(a){return g=f,f=a,h=g-f},l=function(){j=d-(i+44),d=$(window).outerHeight()-HEADER_HEIGHT,245>d&&(d=245),$(".main-content .wrapper.fix-height").css({height:d});var a=k(d);i>e?e=i:e>j?(console.log("?"),e=j):e-=a/2,b.css({height:e});var f=b.outerHeight(),g=d-f-24;c.css({height:g}),b.resizable({maxHeight:j})};b.resizable({handles:"s",minHeight:i,maxHeight:j,resize:function(){var a=b.outerHeight(),e=d-a-24;c.css({height:e})},stop:function(a,b){$(".ui-resizable-handle").trigger("mouseup"),e=b.size.height}}),this.resizeDivFitWin=function(){l()}},FoldTree=function(){this.foldAction=function(a,b,c,d){d?"false"==b.data("select")?(a.attr("data-select","selected").addClass("is-select").siblings().attr("data-select","selected").addClass("is-select"),b.data("select","true")):(a.removeAttr("data-select").removeClass("is-select").siblings().removeAttr("data-select").removeClass("is-select"),b.data("select","false")):"true"==b.data("fold")?(a.addClass("unfold").siblings().addClass("unfold"),b.data("fold","false").next(".tree-depth").addClass("unfold")):(a.removeClass("unfold").siblings().removeClass("unfold"),b.data("fold","true").next(".tree-depth").removeClass("unfold"))}},ResizeDashboardList=function(a,b){var c=628,d=$(window).outerHeight()-HEADER_HEIGHT,e=d-c;b.data("expand","false"),a.css({height:e});var f=function(){d=$(window).outerHeight()-HEADER_HEIGHT,DASHBOARD_MIN_HEIGHT>d&&(d=DASHBOARD_MIN_HEIGHT),a.css({height:d-22}),b.data("expand","true")},g=function(){d=$(window).outerHeight()-HEADER_HEIGHT,e=d-c,a.css({height:e}),b.data("expand","false")},h=function(){"false"==b.data("expand")?g():f()};this.resizeDashboardListFitWin=function(){h()},this.expandDashboardListHeight=function(){b.addClass("expand"),f()},this.reduceDashboardListHeight=function(){b.removeClass("expand"),g()}},initTab=function(a){var b=a.find(".js-tab-link"),c=a.find(".js-tab-cont");return 0==b.length?!1:(b.each(function(){$(this).data("target",$(this).attr("href"))}),void b.on("click",function(a){b.removeClass("on"),c.removeClass("on"),$(this).addClass("on"),$($(this).data("target")).addClass("on"),a.preventDefault()}))},initPie=function(a,b){new Chartist.Pie(a,{series:[b,100-b]},{startAngle:0,total:100,showLabel:!1})};navigator.userAgent.indexOf("Safari")>0?$("html").addClass(navigator.userAgent.indexOf("Chrome")>0?"chrome":"Safari"):navigator.userAgent.indexOf("Firefox")>0?$("html").addClass("firefox"):navigator.userAgent.indexOf("Trident/7.0")>0?$("html").addClass("ie11"):navigator.userAgent.indexOf("MSIE 10.0")>0&&$("html").addClass("ie10"),$(function(){!function(){var a=$(window).outerHeight()-HEADER_HEIGHT;$(".main-content .wrapper.fix-height").css({height:a})}(),function(){$(".header-user-path").data("open","false").on("click",function(a){a.preventDefault(),"false"==$(this).data("open")?$(this).data("open","true").addClass("on").next().addClass("on"):$(this).data("open","false").removeClass("on").next().removeClass("on")})}(),$(".select").selectric(),function(){var a=$(".tree-item");a.data({fold:"true",select:"false"});var b=new FoldTree;$(document).on("click",".js-fold",function(a){a.preventDefault();var c=$(this).parent(".tree-item"),d=c.parent(".tree-list"),e=d.hasClass("no-children");b.foldAction($(this),c,d,e)})}(),function(){$(".js-cal-start, .js-cal-end").datepicker({dateFormat:"yy-mm-dd",beforeShowDay:function(a){var b="";return 6==a.getDay()&&(b="ui-datepicker-sat"),0==a.getDay()&&(b="ui-datepicker-sun"),[!0,b]}}),$(".js-btn-cal-start").on("click",function(){$(".js-cal-start").datepicker("show")}),$(".js-btn-cal-end").on("click",function(){$(".js-cal-end").datepicker("show")})}(),function(){initTab($(".state-list"))}(),function(){var a=$(".wrapper.fix-height"),b=new ResizeDiv(a,$(".stats-resizable.narrow.top"),$(".stats-resizable.narrow.bottom")),c=new ResizeDiv(a,$(".stats-resizable.wide.top"),$(".stats-resizable.wide.bottom"));$(window).on("resize",function(){b.resizeDivFitWin(),c.resizeDivFitWin()}),$(".ui-resizable-handle").on({mousedown:function(){$(window).unbind("resize")},mouseup:function(){$(window).bind("resize",b.resizeDivFitWin),$(window).bind("resize",c.resizeDivFitWin)}})}(),function(){$(".chart-view").data("select","false").on("click",function(a){a.preventDefault(),"false"==$(this).data("select")?$(this).addClass("on").data("select","true"):$(this).removeClass("on").data("select","false")})}(),function(){var a=$(".js-expand"),b=new ResizeDashboardList($(".dashboard-list"),a);$(window).on("resize",function(){b.resizeDashboardListFitWin()}),a.on("click",function(){"false"==$(this).data("expand")?b.expandDashboardListHeight():b.reduceDashboardListHeight()})}(),function(){initTab($(".dashboard-list")),initTab($(".dbpopup"))}(),function(){$(".js-open-vnf-manager").on("click",function(a){$(".js-vnf-manager-popup").addClass("on"),a.preventDefault()}),$(".js-open-vim").on("click",function(a){$(".js-vim-popup").addClass("on"),a.preventDefault()}),$(".js-open-nfvi").on("click",function(a){$(".js-nfvi-popup").addClass("on"),a.preventDefault()}),$(".js-open-vnf-instance").on("click",function(a){$(".js-vnf-instance-popup").addClass("on"),a.preventDefault()}),$(".dbpopup-close").on("click",function(a){$(".dbpopup").removeClass("on"),a.preventDefault()})}(),function(){$(".js-pie-chart").each(function(){var a=$(this).find(".dbpopup-circle-chart-bar")[0],b=parseInt($(this).find(".dbpopup-circle-chart-text").text(),10);initPie(a,b)})}(),function(){$(".js-open-popup").on("click",function(a){$(".dimmed").addClass("on"),$(".popup").addClass("on"),a.preventDefault()}),$(".js-close-popup").on("click",function(a){$(".dimmed").removeClass("on"),$(".popup").removeClass("on"),a.preventDefault()}),$(".js-confirm-ok").on("click",function(a){$(".dimmed").removeClass("on"),$(".popup").removeClass("on"),a.preventDefault()}),$(".js-confirm-cancel").on("click",function(a){$(".dimmed").removeClass("on"),$(".popup").removeClass("on"),a.preventDefault()})}()});