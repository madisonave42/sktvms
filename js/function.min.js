var HEADER_HEIGHT=160,TITLE_HEIGHT=73,DASHBOARD_MIN_HEIGHT=766,popHide=function(){$(".dimmed").removeClass("on"),$(".popup").removeClass("on")},popAlert=function(a){$(".dimmed").addClass("on"),$(".popup.alert").addClass("on").trigger("loadPopup"),$(".popup-msg-text").text(a)},popAddPage=function(){$(".dimmed").addClass("on"),$(".popup.add-page").addClass("on").trigger("loadPopup"),$(".js-page-title").val("").focus()},popDelete=function(a){$(".dimmed").addClass("on"),$(".popup.delete-page").addClass("on").trigger("loadPopup"),$(".js-tab-title").text(a)},popAddGraph=function(){$(".dimmed").addClass("on"),$(".popup.add-graph").addClass("on").trigger("loadPopup"),$(".select").selectric(),$(".spinner").spinner({max:4,min:1})},tabItem=function(a){var b='<li id="tab-item" class="tab-item js-tab current">';return b+='<div class="tab-item-title js-title">'+a+"</div>",b+='<input type="text" value="'+a+'" class="tab-item-input hide" />',b+='<button type="button" class="btn-del js-del">delete</button>',b+="</li>"},pageItem=function(a){var b='<section class="contents-section stats-monitoring current">';return b+='<div class="contents-section-inner stats-monitoring fill-gray">',b+='<ul class="container-list page'+a+'">',b+='<li class="container-item"></li>',b+='<li class="container-item"></li>',b+='<li class="container-item"></li>',b+='<li class="container-item"></li>',b+='<li class="container-item"></li>',b+='<li class="container-item"></li>',b+='<li class="container-item"></li>',b+='<li class="container-item"></li>',b+='<li class="container-item"></li>',b+='<li class="container-item"></li>',b+='<li class="container-item"></li>',b+='<li class="container-item"></li>',b+='<li class="container-item"></li>',b+='<li class="container-item"></li>',b+='<li class="container-item"></li>',b+='<li class="container-item"></li>',b+="</ul>",b+='<ul class="graph-list page'+a+'">',b+="</ul>",b+="</div>",b+="</section>"},graphItemNode=function(a,b){var c='<div class="graph-item-draggable"><div class="graph-item '+a+'"><div class="graph-top"><div class="graph-title">'+b+'</div><div class="graph-btn-group"><button type="button" class="graph-btn setting"></button><button type="button" class="graph-btn enlarge"></button><button type="button" class="graph-btn close">close</button></div></div><div class="graph-content"></div></div></div>';return c},enlargeGraphItem=function(a){var b='<div class="enlarge-graph-item"><div class="enlarge-graph-top"><div class="enlarge-graph-title">'+a+'</div><div class="enlarge-graph-btn-group"><button type="button" class="enlarge-graph-btn close">close</button></div></div><div class="enlarge-graph-content"></div></div>';return b},ResizeDiv=function(a,b,c){var d=$(window).outerHeight()-HEADER_HEIGHT;b.css({height:d/2-23}),c.css({height:d/2-23});var e=b.height(),f=$(window).outerHeight()-HEADER_HEIGHT,g=$(window).outerHeight()-HEADER_HEIGHT,h=0,i=100,j=d-(i+44),k=function(a){return g=f,f=a,h=g-f},l=function(){j=d-(i+44),d=$(window).outerHeight()-HEADER_HEIGHT,400>d&&(d=400);var a=k(d);i>e?e=i:e>j?e=j:e-=a/2,b.css({height:e});var f=b.outerHeight(),g=d-f-24;c.css({height:g}),b.resizable({maxHeight:j})};b.resizable({handles:"s",minHeight:i,maxHeight:j,resize:function(){var a=b.outerHeight(),e=d-a-24;c.css({height:e})},stop:function(a,b){$(".ui-resizable-handle").trigger("mouseup"),e=b.size.height}}),this.resizeDivFitWin=function(){l()}},FoldTree=function(){this.foldAction=function(a,b,c,d){d?"false"==b.data("select")?(a.attr("data-select","selected").addClass("is-select").siblings().attr("data-select","selected").addClass("is-select"),b.data("select","true")):(a.removeAttr("data-select").removeClass("is-select").siblings().removeAttr("data-select").removeClass("is-select"),b.data("select","false")):"true"==b.data("fold")?(a.addClass("unfold").siblings().addClass("unfold"),b.data("fold","false").next(".tree-depth").addClass("unfold")):(a.removeClass("unfold").siblings().removeClass("unfold"),b.data("fold","true").next(".tree-depth").removeClass("unfold"))}},ResizeDashboardList=function(a,b){var c=628,d=$(window).outerHeight()-HEADER_HEIGHT;0==$(".main-header").length&&(d+=TITLE_HEIGHT),766>=d&&(d=766);var e=d-c;b.data("expand","false"),a.css({height:e});var f=function(){d=$(window).outerHeight()-HEADER_HEIGHT,0==$(".main-header").length&&(d+=TITLE_HEIGHT),DASHBOARD_MIN_HEIGHT>d&&(d=DASHBOARD_MIN_HEIGHT),a.css({height:d-22}),b.data("expand","true")},g=function(){d=$(window).outerHeight()-HEADER_HEIGHT,0==$(".main-header").length&&(d+=TITLE_HEIGHT),766>=d&&(d=766),e=d-c,a.css({height:e}),b.data("expand","false")},h=function(){"false"==b.data("expand")?g():f()};this.resizeDashboardListFitWin=function(){h()},this.expandDashboardListHeight=function(){b.addClass("expand"),f()},this.reduceDashboardListHeight=function(){b.removeClass("expand"),g()}},initTab=function(a){var b=a.find(".js-tab-link"),c=a.find(".js-tab-cont");return 0==b.length?!1:(b.each(function(){$(this).data("target",$(this).attr("href"))}),void b.on("click",function(a){b.removeClass("on"),c.removeClass("on"),$(this).addClass("on"),$($(this).data("target")).addClass("on"),a.preventDefault()}))},initPie=function(a,b){new Chartist.Pie(a,{series:[b,100-b]},{startAngle:0,total:100,showLabel:!1})},smTab=function(){var a="",b=0,c=function(a,b){var c=a.find(".tab-item").length;return"add"==b?10>c:c>0},d=function(){var a=$(".tab-item"),b=$(".contents-section.stats-monitoring");a.hasClass("current")||(a.eq(0).addClass("current"),b.eq(1).addClass("current"))};this.showPopup=function(b,d,e){"add"==d?c(b,d)?popAddPage():popAlert("페이지는 10개까지 추가 할 수 있습니다."):c(b,d)?(a=e,popDelete(e.prev(".tab-item-title").text())):popAlert("삭제할 페이지가 없습니다.")},this.addPage=function(a,c,d){b++,a.find(".tab-item").removeClass("current"),d.find(".contents-section.stats-monitoring").removeClass("current"),a.append(tabItem(c)),d.append(pageItem(b)),popHide(),$(window).trigger("addPage")},this.delPage=function(){var b=$(".tab-item"),c=$(".contents-section.stats-monitoring"),e=a.parents(".tab-item"),f=b.index(e)+1;e.remove(),c.eq(f).remove(),popHide(),d()},this.active=function(a){var b=$(".tab-item").index(a)+1;a.addClass("current").siblings().removeClass("current"),$(".contents-section.stats-monitoring").eq(b).addClass("current").siblings().removeClass("current")},this.tabMove=function(a,b,c,d){"prev"==a&&d>0?(b.eq(d).insertBefore(b.eq(d-1)),c.eq(d+1).insertBefore(c.eq(d))):"next"==a&&d<b.length&&(b.eq(d).insertAfter(b.eq(d+1)),c.eq(d+1).insertAfter(c.eq(d+2)))}},ResizeContainer=function(a){var b=function(){var b=$(window).outerHeight()-HEADER_HEIGHT;a.css({height:(b-68)/4})};b(),this.resizeContainerFitWin=function(){b()}},ResizeGraph=function(){var a=function(){var a=$(window).outerHeight()-HEADER_HEIGHT;$(".graph-item-draggable").css({height:(a-68)/4}),$(".graph-item").css({height:(a-68)/4}),$(".graph-item.m1x1").css({height:(a-68)/4}),$(".graph-item.m1x2").css({height:(a-68)/4*2+6}),$(".graph-item.m2x1").css({height:(a-68)/4}),$(".graph-item.m2x2").css({height:(a-68)/4*2+6}),$(".graph-item.m1x3").css({height:(a-68)/4*3+12}),$(".graph-item.m3x1").css({height:(a-68)/4}),$(".graph-item.m2x3").css({height:(a-68)/4*3+12}),$(".graph-item.m3x2").css({height:(a-68)/4*2+6}),$(".graph-item.m3x3").css({height:(a-68)/4*3+12}),$(".graph-item.m1x4").css({height:(a-68)/4*4+18}),$(".graph-item.m4x1").css({height:(a-68)/4}),$(".graph-item.m2x4").css({height:(a-68)/4*4+18}),$(".graph-item.m4x2").css({height:(a-68)/4*2+6}),$(".graph-item.m3x4").css({height:(a-68)/4*4+18}),$(".graph-item.m4x3").css({height:(a-68)/4*3+12}),$(".graph-item.m4x4").css({height:(a-68)/4*4+18})},b=function(){$(".graph-item").each(function(){var a=4*$(this).attr("data-floor"),b=$(".container-item").eq(0).offset().top,c=$(".container-item").eq(a).offset().top-b;$(this).css({top:c})})};a(),this.resizeGraphContainer=function(){a(),b()}},Graph=function(){var a,b,c,d,e,f,g,h=0,i=[],j=0,k=function(a,b,c,d){for(var e=0;d>e;e++)for(var f=0;c>f;f++){var g=b+(f+4*e);$(".contents-section.stats-monitoring.current").find(".container-list").find(".container-item").eq(g).attr({"data-used":"used","data-graph":a})}},l=function(a,b,c,d,e){for(var f=$(".contents-section.stats-monitoring").index($(".contents-section.stats-monitoring.current")),g=0;e>g;g++)for(var h=0;d>h;h++){var i=parseInt(b)+(h+4*g);console.log("orgin : "+b+" : col : "+h+" - row : "+g+" : source : "+i),$(".container-list.page"+f).find(".container-item").eq(i).removeAttr("data-used data-graph")}for(var g=0;e>g;g++)for(var h=0;d>h;h++){var j=parseInt(c)+(h+4*g);console.log("dest : "+c+" : col : "+h+" - row : "+g+" : destin : "+j),$(".container-list.page"+f).find(".container-item").eq(j).attr({"data-used":"used","data-graph":a})}},m=function(a,b,c,d,e,f){for(var g=$(".contents-section.stats-monitoring").index($(".contents-section.stats-monitoring.current")),h=0;d>h;h++)for(var i=0;c>i;i++){var j=parseInt(b)+(i+4*h);console.log("orgin : "+b+" : col : "+i+" - row : "+h+" : source : "+j),$(".container-list.page"+g).find(".container-item").eq(j).removeAttr("data-used data-graph")}for(var h=0;f>h;h++)for(var i=0;e>i;i++){var k=parseInt(b)+(i+4*h);console.log("dest : "+b+" : col : "+i+" - row : "+h+" : destin : "+k),$(".container-list.page"+g).find(".container-item").eq(k).attr({"data-used":"used","data-graph":a})}},n=function(a,b,c){for(var d=$(".contents-section.stats-monitoring").index($(".contents-section.stats-monitoring.current")),e=0;c>e;e++)for(var f=0;b>f;f++){var g=parseInt(a)+(f+4*e);console.log("orgin : "+a+" : col : "+f+" - row : "+e+" : source : "+g),$(".container-list.page"+d).find(".container-item").eq(g).removeAttr("data-used data-graph")}},o=function(a,b){for(var c=!1,d=$(".contents-section.stats-monitoring.current").find(".container-list").find(".container-item").index(a),e=0;e<b.attr("data-row");e++)for(var f=0;f<b.attr("data-col");f++){var g=d+(f+4*e),h=$(".contents-section.stats-monitoring.current").find(".container-list").find(".container-item").eq(g).attr("data-graph");void 0!=h&&b.attr("data-graph")!=h?c=!0:1!=c&&(c=!1)}return c},p=function(a,b,e,f,g,h,m,n){var p=m.left-n.left,q=m.top-n.top;a.attr({"data-graph":f,"data-grid":e,"data-col":g,"data-row":h}).data({left:p,top:q,graphTitle:b}).draggable({addClasses:!1,snap:".container-item",snapMode:"inner",snapTolerance:35,revertDuration:100,create:function(){k(f,e,g,h)},revert:function(a){return a===!1?!0:o($(a[0]),$(this))?!0:(l(d.attr("data-graph"),i[0],c,d.attr("data-col"),d.attr("data-row")),!1)}}).css({position:"absolute",left:p,top:q}),$(".container-item").droppable({tolerance:"fit",out:function(){i[j]=$(".contents-section.stats-monitoring.current").find(".container-list").find(".container-item").index($(this)),j++},drop:function(a,b){var e=b.position;c=$(".contents-section.stats-monitoring.current").find(".container-list").find(".container-item").index($(this)),d=$(b.draggable),d.attr({"data-grid":c}).data({left:e.left,top:e.top}),j=0}})};this.showPopup=function(c,d){a=c,b=d;var e=b.find(".container-item").index(a);$(".stats-map-item-state").removeClass("used active"),popAddGraph(),$(".contents-section.stats-monitoring.current .container-list .container-item").each(function(a){"used"==$(".contents-section.stats-monitoring.current .container-list .container-item").eq(a).attr("data-used")&&$(".stats-map-item-state").eq(a).addClass("used")}),$(".stats-map-item-state").eq(e).addClass("active"),$(".js-btn-add-graph").removeClass("change").addClass("new"),$(".popup-graph-title").val("").focus()},this.addGraph=function(c,d,e){var f=$(".contents-section-inner.stats-monitoring").index(b),g=b.find(".container-item").index(a),i=b.find(".container-item").eq(0).offset(),j=a.offset(),k="m"+d+"x"+e,l=$(graphItemNode(k,c));h++,l.appendTo($(".graph-list.page"+f)),p(l,c,g,h,d,e,j,i),popHide(),$(window).trigger("addGraph")},this.showSetPopup=function(a,b,c,d){e=a,f=c,g=d,popAddGraph(),$(".popup-graph-title").val(b).focus(),$(".spinner.col").val(c),$(".spinner.row").val(d),$(".js-btn-add-graph").removeClass("new").addClass("change")},this.changeGraph=function(a,c,d){var h="m"+f+"x"+g,i="m"+c+"x"+d,j=e.attr("data-grid"),k=e.attr("data-graph"),l=b.find(".container-item").eq(0).offset(),n=e.offset();m(k,j,f,g,c,d),e.find(".graph-title").text(a),e.find(".graph-item").removeClass(h).addClass(i),p(e,a,j,k,c,d,n,l),popHide(),$(window).trigger("addGraph")},this.delGraph=function(a){var b=a.attr("data-grid"),c=a.attr("data-col"),d=a.attr("data-row");n(b,c,d),a.remove()}},EnlargeGraph=function(a,b){a.append(enlargeGraphItem(b))},setOverloadGraphHeight=function(){var a=$(".js-overload-popup"),b=a.find(".dbpopup-overload-list-wrap").height();graphArea=a.find(".dbpopup-overload-graph"),graphArea.height(524-b)};navigator.userAgent.indexOf("Safari")>0?$("html").addClass(navigator.userAgent.indexOf("Chrome")>0?"chrome":"Safari"):navigator.userAgent.indexOf("Firefox")>0?$("html").addClass("firefox"):navigator.userAgent.indexOf("Trident/7.0")>0?$("html").addClass("ie11"):navigator.userAgent.indexOf("MSIE 10.0")>0&&$("html").addClass("ie10"),$(function(){!function(){var a=$(window).outerHeight()-HEADER_HEIGHT,b=$(".main-content .wrapper.fix-height"),c=$(".main-content .wrapper.var-height");0==$(".main-header").length&&(a+=TITLE_HEIGHT,$(".header").addClass("no-title")),b.css({height:a}),0!=c.length&&c.height()<=a&&c.css({height:a}),$(window).on("resize",function(){var a=$(window).outerHeight()-HEADER_HEIGHT;0==$(".main-header").length&&(a+=TITLE_HEIGHT),400>a&&(a=400),$(".main-content .wrapper.fix-height").css({height:a})})}(),function(){$(".header-user-path").data("open","false").on("click",function(a){a.preventDefault(),"false"==$(this).data("open")?$(this).data("open","true").addClass("on").next().addClass("on"):$(this).data("open","false").removeClass("on").next().removeClass("on")})}(),$(".select").selectric(),$(".spinner").spinner({max:4,min:1}),function(){var a=$(".tree-item");a.data({fold:"true",select:"false"});var b=new FoldTree;$(document).on("click",".js-fold",function(a){a.preventDefault();var c=$(this).parent(".tree-item"),d=c.parent(".tree-list"),e=d.hasClass("no-children");b.foldAction($(this),c,d,e)})}(),function(){$(".js-cal-start, .js-cal-end").datepicker({dateFormat:"yy-mm-dd",beforeShowDay:function(a){var b="";return 6==a.getDay()&&(b="ui-datepicker-sat"),0==a.getDay()&&(b="ui-datepicker-sun"),[!0,b]}}),$(".js-btn-cal-start").on("click",function(){$(".js-cal-start").datepicker("show")}),$(".js-btn-cal-end").on("click",function(){$(".js-cal-end").datepicker("show")})}();var a=[],b=1;!function(){var a,b=new ResizeContainer($(".container-item"));$(window).on("addPage addGraph",function(){b=new ResizeContainer($(".container-item")),a=new ResizeGraph($(".graph-item"))}),$(window).on("resize",function(){try{b.resizeContainerFitWin(),a.resizeGraphContainer()}catch(c){}})}(),function(){var c=$(".sm-tab .tab-list"),d=$(".wrapper.monitoring"),e=new smTab,f=$("body");f.on("click",".js-add",function(){e.showPopup(c,"add")}),f.on("click",".js-del",function(){e.showPopup(c,"del",$(this))}),f.on("dblclick",".js-title",function(){$(this).next(".tab-item-input").removeClass("hide").focus()}),f.on("click",function(a){$(a.target).closest("#tab-item").length||$(".tab-item-input").each(function(){var a=$(this).addClass("hide").val();$(this).prev(".tab-item-title").text(a)})}),f.on("click",".js-btn-add-page",function(){var f=$(".js-page-title").val();e.addPage(c,f,d),a[b]=new Graph,b++}),f.on("click",".js-btn-del-page",function(){e.delPage()}),f.on("click",".js-tab",function(){e.active($(this))}),$(".btn-move-prev").on("click",function(){var a=$(".tab-item"),b=$(".contents-section.stats-monitoring"),c=a.index($(".tab-item.current"));e.tabMove("prev",a,b,c)}),$(".btn-move-next").on("click",function(){var a=$(".tab-item"),b=$(".contents-section.stats-monitoring"),c=a.index($(".tab-item.current"));e.tabMove("next",a,b,c)})}(),function(){var b,c=$("body");c.on("click",".container-item",function(){var c=$(this).closest(".contents-section.stats-monitoring.current");b=$(".contents-section.stats-monitoring").index(c),a[b].showPopup($(this),$(this).parents(".contents-section-inner.stats-monitoring"))}),c.on("click",".js-btn-add-graph.new",function(){var c=$(".popup-graph-title").val(),d=$(".spinner.col").val(),e=$(".spinner.row").val();a[b].addGraph(c,d,e)})}(),function(){var b,c=$("body");c.on("click",".graph-btn.setting",function(){var c=$(this).closest(".graph-item-draggable"),d=c.data("graphTitle"),e=c.attr("data-col"),f=c.attr("data-row"),g=$(this).closest(".contents-section.stats-monitoring.current");b=$(".contents-section.stats-monitoring").index(g),a[b].showSetPopup(c,d,e,f)}),c.on("click",".js-btn-add-graph.change",function(){var c=$(".popup-graph-title").val(),d=$(".spinner.col").val(),e=$(".spinner.row").val();a[b].changeGraph(c,d,e)}),c.on("click",".graph-btn.enlarge",function(){{var a=$(this).parents(".graph-top").find(".graph-title").text();new EnlargeGraph($(this).parents(".contents-section-inner.stats-monitoring"),a)}}),c.on("click",".graph-btn.close",function(){var c=$(this).closest(".contents-section.stats-monitoring.current");b=$(".contents-section.stats-monitoring").index(c);var d=$(this).closest(".graph-item-draggable");a[b].delGraph(d)})}(),function(){var a=$("body");a.on("click",".enlarge-graph-btn.close",function(){$(this).parents(".enlarge-graph-item").remove()})}(),function(){var a=$(".js-expand"),b=new ResizeDashboardList($(".dashboard-list"),a);$(window).on("resize",function(){try{b.resizeDashboardListFitWin()}catch(a){}}),a.on("click",function(){"false"==$(this).data("expand")?b.expandDashboardListHeight():b.reduceDashboardListHeight()})}(),function(){initTab($(".dashboard-list")),initTab($(".dbpopup"))}(),function(){$(".js-open-vnf-manager").on("click",function(a){$(".dbpopup").removeClass("on"),$(".js-vnf-manager-popup").addClass("on"),a.preventDefault()}),$(".js-open-vim").on("click",function(a){$(".dbpopup").removeClass("on"),$(".js-vim-popup").addClass("on"),a.preventDefault()}),$(".js-open-nfvi").on("click",function(a){$(".dbpopup").removeClass("on"),$(".js-nfvi-popup").addClass("on"),a.preventDefault()}),$(".js-open-vnf-instance").on("click",function(a){$(".dbpopup").removeClass("on"),$(".js-vnf-instance-popup").addClass("on"),a.preventDefault()}),$(".js-open-graph-cpu").on("click",function(a){$(".dbpopup").removeClass("on"),$(".js-graph-cpu-popup").addClass("on"),a.preventDefault()}),$(".js-open-graph-mem").on("click",function(a){$(".dbpopup").removeClass("on"),$(".js-graph-mem-popup").addClass("on"),a.preventDefault()}),$(".js-open-graph-disk").on("click",function(a){$(".dbpopup").removeClass("on"),$(".js-graph-disk-popup").addClass("on"),a.preventDefault()}),$(".js-open-graph-net").on("click",function(a){$(".dbpopup").removeClass("on"),$(".js-graph-net-popup").addClass("on"),a.preventDefault()}),$(".js-open-overload-cpu").on("click",function(a){setOverloadGraphHeight(),$(".dbpopup").removeClass("on"),$(".js-overload-popup").addClass("on"),a.preventDefault()}),$(".dbpopup-close").on("click",function(a){$(".dbpopup").removeClass("on"),a.preventDefault()})}(),function(){$(".js-btn-overload-item").on("click",function(){$(this).toggleClass("on")})}(),function(){$(".js-pie-chart").each(function(){var a=$(this).find(".dbpopup-circle-chart-bar")[0],b=parseInt($(this).find(".dbpopup-circle-chart-text").text(),10);initPie(a,b)})}(),function(){initTab($(".state-list"))}(),function(){var a=$(".js-vnf-host-pannel input"),b=$(".vnf-host-list");a.on("change",function(){var c=a.filter(":checked").attr("value");b.removeClass("on"),$("#"+c).addClass("on")}),$(window).on("load",function(){a.trigger("change")})}(),function(){if($("div").is(".update-module-group")){var a=$(".update-module").length,b=202*a+327,c=$(".update-flow-module").length,d=190*c+154;$(".update-module-group, .update-flow").css({width:b,height:d})}}(),function(){var a,b=$(".js-show-flow-function");b.length>0&&(a=$(".update-flow-function-menu"),b.each(function(){$(this).on("click",function(c){c.preventDefault();var d=$(this).closest(".update-flow-function").find(".update-flow-function-menu");$(this).hasClass("on")?($(this).removeClass("on"),d.removeClass("on")):(b.removeClass("on"),a.removeClass("on"),$(this).addClass("on"),d.addClass("on"))})}),$("body").on("click",function(c){$(c.target).closest(".update-flow-function").length||(b.removeClass("on"),a.removeClass("on"))}))}(),function(){var a=$(".wrapper.fix-height"),b=new ResizeDiv(a,$(".stats-resizable.narrow.top"),$(".stats-resizable.narrow.bottom")),c=new ResizeDiv(a,$(".stats-resizable.wide.top"),$(".stats-resizable.wide.bottom"));$(window).on("resize",function(){try{b.resizeDivFitWin(),c.resizeDivFitWin()}catch(a){}}),$(".ui-resizable-handle").on({mousedown:function(){$(window).unbind("resize")},mouseup:function(){$(window).bind("resize",b.resizeDivFitWin),$(window).bind("resize",c.resizeDivFitWin)}})}(),function(){$(".chart-view").data("select","false").on("click",function(a){a.preventDefault(),"false"==$(this).data("select")?$(this).addClass("on").data("select","true"):$(this).removeClass("on").data("select","false")})}(),function(){$(".selectric-date-type").on("change",function(){var a=$(this).find("option").index($(this).find("option:selected"));$(".period-type").addClass("hide"),$(".select-type").addClass("hide"),$(".period-type").eq(a).removeClass("hide"),$(".select-type").eq(a).removeClass("hide")})}(),function(){$(".spinner-year").spinner()}(),function(){$(".js-pie-chart").each(function(){var a=$(this).find(".vim-circle-chart-bar")[0],b=parseInt($(this).find(".vim-circle-chart-text").text(),10);initPie(a,b)})}(),function(){$(".setting-list-item").data("selected","false").on("click",function(){$(this).hasClass("selected")&&$(this).data("selected","true"),"false"==$(this).data("selected")?($(".setting-list-item").data("selected","false").removeClass("selected"),$(this).addClass("selected").data("selected","true")):$(this).removeClass("selected").data("selected","false")})}(),function(){$(".btn-nav-fold.setting").data("fold","false").on("click",function(){"false"==$(this).data("fold")?($(this).parents(".setting-nav-top").addClass("fold").next(".setting-nav-content").addClass("fold"),$(this).data("fold","true")):($(this).parents(".setting-nav-top").removeClass("fold").next(".setting-nav-content").removeClass("fold"),$(this).data("fold","false"))})}(),function(){$("body").on("click",".js-open-popup",function(a){$(".dimmed").addClass("on"),$(".popup").addClass("on").trigger("loadPopup"),a.preventDefault()}),$("body").on("click",".js-close-popup",function(a){$(".dimmed").removeClass("on"),$(".popup").removeClass("on"),a.preventDefault()}),$("body").on("click",".js-close-alert",function(a){$(".dimmed").removeClass("on"),$(".popup").removeClass("on"),a.preventDefault()}),$("body").on("click",".js-confirm-ok",function(a){$(".dimmed").removeClass("on"),$(".popup").removeClass("on"),a.preventDefault()}),$("body").on("click",".js-confirm-cancel",function(a){$(".dimmed").removeClass("on"),$(".popup").removeClass("on"),a.preventDefault()})}(),function(){initTab($(".js-popup-tab"))}()});